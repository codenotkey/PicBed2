(this.webpackJsonppic_bed=this.webpackJsonppic_bed||[]).push([[10],{278:function(e,t,n){"use strict";n.r(t);var r,i,c,a,s,l,d=n(0),j=n(266),b=n(30),h=n(80),u=n(18),o=n(272),p=n(103),g=n(186),x=n(130),O=n(81),f=n(29),m=n(280),v=n(150),w=n.n(v),F=n(4),S=o.a.Dragger,U=f.a.div(r||(r=Object(b.a)(["\n  margin-top: 10px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n"]))),k=f.a.h1(i||(i=Object(b.a)([" \n    margin: 20px 0;\n    text-align: center;\n"]))),y=f.a.img(c||(c=Object(b.a)(["\n   max-width: 300px;\n  @media (max-width: 500px){\n    max-width: 200px;\n  }\n"]))),$=f.a.dd(a||(a=Object(b.a)(["\n  overflow: hidden;\n  text-overflow:ellipsis;\n  white-space: nowrap;\n"]))),z=f.a.dd(s||(s=Object(b.a)(["\n  display: block;\n  font-weight: bolder;\n  font-size: 16px;\n"]))),N=Object(h.a)((function(){var e=Object(O.a)(),t=e.ImageStore,n=e.UserStore,r=(Object(d.useRef)(),Object(d.useRef)(),Object(u.d)((function(){return{width:null,height:null,setWidth:function(e){r.width=e},setHeight:function(e){r.height=e},get WidthStr(){return r.width?"/w/".concat(r.width):""},get heightStr(){return r.height?"/h/".concat(r.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+r.WidthStr+r.heightStr}}}))),i={showUploadList:!1,beforeUpload:function(e){return t.setFilename(e.name),t.setFile(e),null===n.currentUser?(p.b.warn("\u767b\u5f55\u4e4b\u540e\u518d\u4e0a\u4f20"),!1):/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(p.b.error("\u56fe\u7247\u6700\u59271M"),!1):(t.upload().then((function(e){p.b.info("\u4e0a\u4f20\u6210\u529f,\u8bf7\u7b49\u5f85\u94fe\u63a5\u663e\u793a")})).catch((function(e){p.b.error("\u4e0a\u4f20\u5931\u8d25")})),!1):(p.b.error("\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1)}};return Object(F.jsxs)("div",{children:[Object(F.jsx)(g.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUploading,children:Object(F.jsxs)(S,Object(j.a)(Object(j.a)({},i),{},{children:[Object(F.jsx)("p",{className:"ant-upload-drag-icon",children:Object(F.jsx)(m.a,{})}),Object(F.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u533a\u57df\u4e0a\u4f20"}),Object(F.jsx)("p",{className:"ant-upload-hint",children:"\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247,\u56fe\u7247\u6700\u59271M\u3002"})]}))}),t.serverFile?Object(F.jsxs)(U,{children:[Object(F.jsx)(k,{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(F.jsxs)("dl",{children:[Object(F.jsx)(z,{children:"\u7ebf\u4e0a\u5730\u5740"}),Object(F.jsxs)("dd",{children:[Object(F.jsx)("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url,style:{marginRight:"20px",fontSize:"16px"},children:"\u70b9\u51fb\u67e5\u770b"}),Object(F.jsx)(x.a,{type:"primary",shape:"round",onClick:function(){return e=t.serverFile.attributes.url.attributes.url,w()(e),void p.b.info("\u94fe\u63a5\u590d\u5236\u6210\u529f");var e},children:"\u590d\u5236\u94fe\u63a5"})]}),Object(F.jsx)(z,{children:"\u6587\u4ef6\u540d"}),Object(F.jsx)($,{children:t.filename}),Object(F.jsx)(z,{children:"\u56fe\u7247\u9884\u89c8"}),Object(F.jsx)("dd",{children:Object(F.jsx)(y,{src:t.serverFile.attributes.url.attributes.url})})]})]}):null]})})),R=f.a.div(l||(l=Object(b.a)(["\n  background-color: #ff4d4f;\n  padding: 10px;\n  margin: 30px 0;\n  color: #fff;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 16px;\n"]))),W=Object(h.a)((function(e){var t=e.children,n=Object(O.a)().UserStore;return Object(F.jsx)(F.Fragment,{children:n.currentUser?null:Object(F.jsx)(R,{children:t})})}));t.default=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(W,{children:"\u767b\u5f55\u4ee5\u540e\u65b9\u53ef\u4f7f\u7528"}),Object(F.jsx)(N,{})]})}}}]);
//# sourceMappingURL=10.26c05ef5.chunk.js.map